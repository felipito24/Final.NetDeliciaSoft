@model List<DeliciaSoft.ViewModels.Permiso.PermisoViewModel>

<div class="card">
    <div class="card-header">
        <i class="fas fa-key me-1"></i>
        Permisos
    </div>
    <div class="card-body">
        @if (Model != null && Model.Any())
        {
            <div class="table-responsive">
                <table class="table table-sm table-striped">
                    <thead>
                        <tr>
                            <th style="width: 50px;"></th>
                            <th>Módulo</th>
                            <th>Acción</th>
                            <th>Descripción</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var permiso in Model.OrderBy(p => p.Modulo).ThenBy(p => p.Accion))
                        {
                            <tr>
                                <td>
                                    <div class="form-check">
                                        <input type="checkbox"
                                               name="PermisosSeleccionados"
                                               value="@permiso.IdPermiso"
                                               class="form-check-input permiso-check"
                                               id="permiso-@permiso.IdPermiso"
                                        @(permiso.Asignado ? "checked" : "") />
                                    </div>
                                </td>
                                <td>@permiso.Modulo</td>
                                <td>@permiso.Accion</td>
                                <td>@permiso.Descripcion</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        }
        else
        {
            <div class="alert alert-info">
                No hay permisos disponibles.
            </div>
        }
    </div>
</div>